<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://www.paypal.com/sdk/js?client-id=AUxsHSPuKPsUvoOIKogLUEiGWiGU71l75y-A2IPpJzDGu_OGDbd-4X_Cg2ntfPoW8Q4vsKmtqwGk52g7"></script>
  </head>
  <body>
    <div id="test">Hello World</div>
    <div id="paypal-button"></div>
    <script>
      // document.getElementById('test').style.backgroundColor = 'red';
      // if (!window.paypal.allowIframe()) {
      //   document.getElementById('test').style.backgroundColor = 'red';
      // }
      // window.paypal.Button.unsafeRenderTo = true;
      window.paypal
        .Buttons({
          // style: {
          //   size: 'responsive',
          //   color: 'blue',
          //   shape: 'rect',
          //   tagline: false
          // },
          // enableCheckoutIframe: true,
          // env: 'sandbox', // Specify 'sandbox' for the test environment
          // funding: {
          //   disallowed: [window.paypal && window.paypal.FUNDING.CREDIT],
          // },
          createOrder: function() {
            // document.getElementById('test').style.backgroundColor = 'yellow';
            return new Promise(resolve => {
              resolve("EC-4W5308294H576363K");
            });
            // return new Promise(function(resolve, reject) {
            //   setTimeout(function () {
            //     document.getElementById('test').style.backgroundColor = 'green';
            //     resolve('EC-98132116C56710742');
            //   });
            // });
          },
          onApprove: function(data, actions) {
            document.getElementById("test").style.backgroundColor = "green";
          },
          onCancel: function(data, actions) {
            // Show a cancel page or return to cart
            document.getElementById("test").style.backgroundColor = "yellow";
          },
          onError: function() {
            document.getElementById("test").style.backgroundColor = "red";
          }
        })
        .render("#paypal-button");
      // if(paypal.Button.validate()) {
      //   document.getElementById('test').style.backgroundColor = 'green';
      // } else {
      //   document.getElementById('test').style.backgroundColor = 'blue';
      // }
      // document.getElementById('test').style.backgroundColor = 'yellow';
      // paypal.config.env = "sandbox";
      // paypal.setup({
      //     env: 'sandbox',
      //     funding: {
      //       disallowed: [window.paypal && window.paypal.FUNDING.CREDIT],
      //     },
      //     onApprove: function (data, actions) {
      //       document.getElementById('test').style.backgroundColor = 'green';
      //     },
      //     onCancel: function (data, actions) {
      //       // Show a cancel page or return to cart
      //       document.getElementById('test').style.backgroundColor = 'yellow';
      //     },
      //     onError: function() {
      //       document.getElementById('test').style.backgroundColor = 'red';
      //     }
      // })
      // paypal.config.env = 'sandbox';
      // paypal.checkout.startFlow('EC-4J852679CC7288831');
      // paypal.checkout.startFlow('EC-5VN319857C102571C');
      document.getElementById("test").style.backgroundColor = "blue";
    </script>
  </body>
</html>
